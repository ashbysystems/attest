---
description: Generate a structured decision log from a completed Attest review. Produces an audit-ready markdown file with all review questions, responses, and the reviewer's overall decision.
argument-hint: [regenerate]
---

# /attest:log

Generate or regenerate a decision log from a completed review.

## Prerequisites

A review must have been completed in the current session (via `/attest:review`) with all questions answered and an overall decision made. If no completed review exists in context, inform the reviewer:

> No completed review found in this session. Run `/attest:review` first, then `/attest:log` will generate the decision log automatically.

## Behaviour

### 1. Prompt for reviewer identity (MANDATORY — do not skip)

You MUST ask the reviewer for:
- **Name:** Their full name (not "Session reviewer" or any placeholder)
- **Role:** Their job title or role

The decision log is an audit artefact. It must name the actual human who conducted the review.

### 2. Prompt for overall decision (MANDATORY — do not skip)

You MUST ask the reviewer to select one of these four options:
- **Approved for use** — The output can be used as-is
- **Approved with modifications** — The output can be used with specified changes
- **Rejected** — The output should not be used
- **Escalated** — The overall determination requires higher authority

Do not omit this step. Do not infer the decision from the review responses.

### 3. Prompt for sign-off statement (MANDATORY — do not skip)

You MUST ask the reviewer for a brief free-text sign-off statement summarising their overall assessment. This is their professional sign-off and must appear in the decision log.

### 4. Generate the decision log

Use the template at `${CLAUDE_PLUGIN_ROOT}/templates/decision-log.md` as the structure. Populate all fields from the completed review:

- Review date and time
- Output type and source
- Output fingerprint (captured during the review)
- Risk classification (including any reviewer override)
- Reviewer name and role
- All review questions with responses and notes
- Summary of flagged items
- Summary of escalated items (with filenames of any escalation records)
- Rubber-stamp acknowledgement (if triggered)
- Overall decision
- Sign-off statement
- Disclaimer footer

Follow all language rules from the decision-logging skill. Every decision is attributed to the reviewer. Attest is described as having "surfaced questions for consideration."

The decision log MUST end with this exact disclaimer footer:

> ---
>
> *This decision log was generated by Attest (Ashby). Attest surfaced questions for the reviewer's consideration. All review decisions, assessments, and the final determination were made by the human reviewer named above. Attest does not provide legal, financial, or compliance advice and has made no quality judgment about the reviewed output.*
>
> *Learn more: ashby.systems/attest*

### 5. Save the file

Determine the save location:
1. Read `${CLAUDE_PLUGIN_ROOT}/.config.json` for the configured save location
2. If not configured, use the current working directory

Save the file with this EXACT filename format (no exceptions):
```
attest-review-YYYY-MM-DD-HH-MM-[output-type].md
```

Where `[output-type]` is the output type in kebab-case. Examples:
- `attest-review-2026-02-15-14-30-contract-review.md`
- `attest-review-2026-02-15-14-30-data-processing-agreement.md`
- `attest-review-2026-02-15-14-30-policy-draft.md`

Do NOT use formats like `LOG-2026-02-08-001.md` or any other naming scheme. The `attest-review-` prefix is required for `/attest:status` to find and parse the file.

### 6. Present the log

Display the full decision log content in the session so the reviewer can read and verify it. Confirm the save location:

> Decision log saved to: [full file path]

## Regeneration

If the reviewer runs `/attest:log regenerate` or asks to regenerate, repeat the process using the same review data but allow the reviewer to update their identity, decision, and sign-off statement. Save with a new timestamp.
